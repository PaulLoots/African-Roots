{"ast":null,"code":"import _defineProperty from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/src/components/AdminUI/Billing&OrderList/NewOrderTab.js\";\n//Tab For Creating a New Order\nimport React from 'react';\nimport QrReader from 'react-qr-reader';\nimport axios from \"axios\";\nimport RecieptMenuItem from '../../ClientUI/Menu/RecieptMenuItem';\n\nvar NewOrderTab =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewOrderTab, _React$Component);\n\n  function NewOrderTab(props) {\n    var _this;\n\n    _classCallCheck(this, NewOrderTab);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewOrderTab).call(this, props));\n\n    _this.handleScan = function (data) {\n      if (data) {\n        var payOrder = _this._searchOrders(data, _this.state.orderData);\n\n        if (payOrder != null) {\n          _this.setState({\n            payOrder: payOrder,\n            show: \"receipt\",\n            orderNoError: \"\"\n          });\n        } else {\n          console.log(\"order does not exist\");\n\n          _this.setState({\n            orderNoError: \"invalid order number\"\n          });\n        }\n      }\n    };\n\n    _this.handleError = function (err) {\n      console.error(err);\n    };\n\n    _this.handleShowReceipt = _this.handleShowReceipt.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleshowNum = _this.handleshowNum.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCompletePurchase = _this.handleCompletePurchase.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCompletePay = _this.handleCompletePay.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._handleChange = _this._handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNumSubmit = _this.handleNumSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      show: \"default\",\n      payOrder: {},\n      orderData: [],\n      orderNoError: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(NewOrderTab, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._getOrderData();\n\n      this._getMealData();\n    }\n  }, {\n    key: \"_getOrderData\",\n    value: function _getOrderData() {\n      var _this2 = this;\n\n      var url = 'https://dev-african-roots.herokuapp.com/api/orders';\n      return axios(url, {\n        method: 'GET',\n        mode: 'no-cors',\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json'\n        },\n        withCredentials: false,\n        credentials: 'same-origin'\n      }).then(function (response) {\n        _this2.setState({\n          orderData: response.data\n        });\n      });\n    }\n  }, {\n    key: \"_getMealData\",\n    value: function _getMealData() {\n      var _this3 = this;\n\n      var url = 'https://dev-african-roots.herokuapp.com/api/meals';\n      return axios(url, {\n        method: 'GET',\n        mode: 'no-cors',\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json'\n        },\n        withCredentials: false,\n        credentials: 'same-origin'\n      }).then(function (response) {\n        _this3.setState({\n          mealData: response.data\n        });\n      });\n    }\n  }, {\n    key: \"_handleChange\",\n    value: function _handleChange(event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleNumSubmit\",\n    value: function handleNumSubmit() {\n      var payOrder = this._searchOrders(this.state.orderNum, this.state.orderData);\n\n      if (payOrder != null) {\n        this.setState({\n          payOrder: payOrder,\n          show: \"receipt\",\n          orderNum: null,\n          orderNoError: \"\"\n        });\n      } else {\n        console.log(\"order does not exist\");\n        this.setState({\n          orderNoError: \"invalid order number\"\n        });\n      }\n    }\n  }, {\n    key: \"handleShowReceipt\",\n    value: function handleShowReceipt() {\n      this.setState({\n        show: \"scan\"\n      });\n    }\n  }, {\n    key: \"handleCompletePay\",\n    value: function handleCompletePay() {\n      this.setState({\n        show: \"pay\"\n      });\n    }\n  }, {\n    key: \"handleshowNum\",\n    value: function handleshowNum() {\n      this.setState({\n        show: \"num\"\n      });\n    }\n  }, {\n    key: \"handleCompletePurchase\",\n    value: function handleCompletePurchase() {\n      this.setState({\n        show: \"default\"\n      });\n    }\n  }, {\n    key: \"_searchOrders\",\n    value: function _searchOrders(scannedQR, orderData) {\n      var order = null;\n\n      for (var i = 0; i < orderData.length; i++) {\n        if (orderData[i].order_number === scannedQR) {\n          order = orderData[i];\n        }\n      }\n\n      return order;\n    }\n  }, {\n    key: \"_searchMeals\",\n    value: function _searchMeals(mealID, mealData, isTotal) {\n      var meals = [];\n      var orderTotal = 0;\n\n      for (var i = 0; i < mealData.length; i++) {\n        if (Array.isArray(mealID)) {\n          for (var j = 0; j < mealID.length; j++) {\n            if (mealData[i]._id === mealID[j]) {\n              meals.push(mealData[i]);\n              orderTotal = orderTotal + mealData[i].price_id;\n            }\n          }\n        } else if (mealData[i]._id === mealID) {\n          meals.push(mealData[i]);\n        }\n      }\n\n      console.log(orderTotal);\n\n      if (isTotal) {\n        return orderTotal;\n      } else {\n        return meals;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show = this.state.show;\n      var order = this.state.payOrder;\n      var view;\n\n      if (show == \"default\") {\n        view = React.createElement(\"div\", {\n          className: \"row NewOrderRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-6 col-sm-4 col-lg-3 col-xl-2 ml-auto employeeItemnCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"employeeItem\",\n          onClick: this.handleShowReceipt,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-qrcode d-flex d-lg-flex d-xl-flex justify-content-center justify-content-lg-center justify-content-xl-center SelectOrderRowIcon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          className: \"text-center employeeItemName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, \"Scan QR Code\"))), React.createElement(\"div\", {\n          className: \"col-6 col-sm-4 col-lg-3 col-xl-2 mr-auto employeeItemnCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"employeeItem\",\n          onClick: this.handleshowNum,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"la la-i-cursor d-flex d-lg-flex d-xl-flex justify-content-center justify-content-lg-center justify-content-xl-center SelectOrderRowIcon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          className: \"text-center employeeItemName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"Enter Order No\"))));\n      } else if (show == \"scan\") {\n        view = React.createElement(\"div\", {\n          class: \"col-xs-12 col-md-8 col-lg-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(QrReader, {\n          delay: 300,\n          onError: this.handleError,\n          onScan: this.handleScan,\n          style: {\n            width: '100%',\n            margin: 'auto',\n            display: 'table'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, this.state.result), React.createElement(\"p\", {\n          style: {\n            textAlign: 'center',\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, this.state.orderNoError));\n      } else if (show == \"receipt\") {\n        view = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row BillingRecieptRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-12 col-sm-8 col-lg-6 col-xl-4 mx-auto receiptsCard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-12 d-inline-flex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, order.user_name), React.createElement(\"p\", {\n          className: \"d-xl-flex ml-auto FoodPriceLabelReceipt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, order.order_number)), React.createElement(\"div\", {\n          className: \"col-12 d-inline-flex totalReceiptCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"receiptTimestamp\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"02 March 2019\"), React.createElement(\"p\", {\n          className: \"d-xl-flex ml-auto receiptTimestamp\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"10:05\"))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, this.__showMenuItem(), React.createElement(\"div\", {\n          className: \"col-12 d-inline-flex totalReceiptCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"FoodNameLabelReceipt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, \"Total\"), React.createElement(\"p\", {\n          className: \"d-xl-flex ml-auto FoodPriceLabelReceipt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"R \", this._searchMeals(this.state.payOrder.meal_id, this.state.mealData, true), \".00\"))))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col BillingRecieptPaymentCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"Payment\"))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-6 col-sm-4 col-lg-3 col-xl-2 d-xl-flex ml-auto PaymentBtnCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-dark btn-lg btnPayType\",\n          type: \"button\",\n          onClick: this.handleCompletePay,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"icon ion-cash greenIcon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }), \"Cash\")), React.createElement(\"div\", {\n          className: \"col-6 col-sm-4 col-lg-3 col-xl-2 d-xl-flex mr-auto PaymentBtnCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-dark btn-lg btnPayType\",\n          type: \"button\",\n          onClick: this.handleCompletePay,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"icon ion-card greenIcon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }), \"Card\"))));\n      } else if (show == \"pay\") {\n        view = React.createElement(\"div\", {\n          role: \"dialog\",\n          tabIndex: \"-1\",\n          className: \"modal fade show\",\n          style: {\n            display: 'block'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-dialog modal-dialog-centered\",\n          role: \"document\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-header\",\n          style: {\n            backgroundColor: '#f6f6f6'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: \"modal-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, \"PAYMENT\"), React.createElement(\"button\", {\n          type: \"button\",\n          className: \"close\",\n          \"data-dismiss\": \"modal\",\n          \"aria-label\": \"Close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, \"\\xD7\"))), React.createElement(\"div\", {\n          className: \"modal-body\",\n          style: {\n            padding: '0px',\n            backgroundColor: '#f6f6f6'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"assets/img/IMG_0694.gif\",\n          width: \"100%\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-10 col-sm-8 d-xl-flex mx-auto PaymentBtnCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-dark btn-lg btnAction\",\n          type: \"button\",\n          onClick: this.handleCompletePurchase,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, \"Payment Complete\")))))));\n      } else if (show == \"num\") {\n        view = React.createElement(\"div\", {\n          role: \"dialog\",\n          tabIndex: \"-1\",\n          className: \"modal fade show\",\n          style: {\n            display: 'block'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-dialog modal-dialog-centered\",\n          role: \"document\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"modal-header\",\n          style: {\n            backgroundColor: '#f6f6f6'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: \"modal-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, \"ORDER NO\"), React.createElement(\"button\", {\n          type: \"button\",\n          className: \"close\",\n          \"data-dismiss\": \"modal\",\n          \"aria-label\": \"Close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, \"\\xD7\"))), React.createElement(\"div\", {\n          className: \"modal-body\",\n          style: {\n            padding: '0px',\n            backgroundColor: '#f6f6f6'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-8 d-inline-flex mx-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          autofocusplaceholder: \"Order Number\",\n          className: \"form-control-lg\",\n          name: \"orderNum\",\n          onChange: this._handleChange,\n          style: {\n            borderStyle: 'none',\n            width: '100%',\n            marginBottom: '60px',\n            marginTop: '60px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }))), React.createElement(\"p\", {\n          style: {\n            textAlign: 'center',\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, this.state.orderNoError), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-10 col-sm-8 d-xl-flex mx-auto PaymentBtnCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-dark btn-lg btnAction\",\n          type: \"button\",\n          onClick: this.handleNumSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, \"Enter\")))))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"tab-pane active\",\n        role: \"tabpanel\",\n        id: \"tab-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, view);\n    }\n  }, {\n    key: \"__showMenuItem\",\n    value: function __showMenuItem() {\n      var meals = this._searchMeals(this.state.payOrder.meal_id, this.state.mealData, false);\n\n      if (meals.length > 0) {\n        return meals.map(function (meal) {\n          return React.createElement(RecieptMenuItem, {\n            key: meal._id,\n            name: meal.name,\n            price: meal.price_id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288\n            },\n            __self: this\n          });\n        });\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return NewOrderTab;\n}(React.Component);\n\nexport default NewOrderTab;","map":{"version":3,"sources":["/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/src/components/AdminUI/Billing&OrderList/NewOrderTab.js"],"names":["React","QrReader","axios","RecieptMenuItem","NewOrderTab","props","handleScan","data","payOrder","_searchOrders","state","orderData","setState","show","orderNoError","console","log","handleError","err","error","handleShowReceipt","bind","handleshowNum","handleCompletePurchase","handleCompletePay","_handleChange","handleNumSubmit","_getOrderData","_getMealData","url","method","mode","headers","withCredentials","credentials","then","response","mealData","event","target","value","name","orderNum","scannedQR","order","i","length","order_number","mealID","isTotal","meals","orderTotal","Array","isArray","j","_id","push","price_id","view","width","margin","display","result","textAlign","color","user_name","__showMenuItem","_searchMeals","meal_id","backgroundColor","padding","borderStyle","marginBottom","marginTop","map","meal","Component"],"mappings":"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","sourcesContent":["//Tab For Creating a New Order\n\nimport React from 'react'\nimport QrReader from 'react-qr-reader'\nimport axios from \"axios\";\nimport RecieptMenuItem from '../../ClientUI/Menu/RecieptMenuItem';\n\nclass NewOrderTab extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleShowReceipt = this.handleShowReceipt.bind(this);\n        this.handleshowNum = this.handleshowNum.bind(this);\n        this.handleCompletePurchase = this.handleCompletePurchase.bind(this);\n        this.handleCompletePay = this.handleCompletePay.bind(this);\n        this._handleChange = this._handleChange.bind(this);\n        this.handleNumSubmit = this.handleNumSubmit.bind(this);\n        this.state = {show: \"default\",\n                      payOrder: {},\n                      orderData: [],\n                      orderNoError: \"\"};\n      }\n\n      componentDidMount() {\n        this._getOrderData();\n        this._getMealData();\n      }\n\n      _getOrderData() {\n        let url = 'https://dev-african-roots.herokuapp.com/api/orders';\n        return axios(url, {\n            method: 'GET',\n            mode: 'no-cors',\n            headers: {\n              'Access-Control-Allow-Origin': '*',\n              'Content-Type': 'application/json',\n            },\n            withCredentials: false,\n            credentials: 'same-origin',\n          }).then(response => {\n            this.setState({\n                orderData: response.data\n            });\n          })\n      }\n\n\n    _getMealData() {\n        let url = 'https://dev-african-roots.herokuapp.com/api/meals';\n        return axios(url, {\n            method: 'GET',\n            mode: 'no-cors',\n            headers: {\n              'Access-Control-Allow-Origin': '*',\n              'Content-Type': 'application/json',\n            },\n            withCredentials: false,\n            credentials: 'same-origin',\n          }).then(response => {\n            this.setState({\n              mealData: response.data\n            });\n          })\n      }\n\n      _handleChange(event) {\n        let target = event.target;\n        let value = target.value;\n        let name = target.name;\n    \n        this.setState({\n          [name]: value\n        });\n      }\n\n      handleNumSubmit() {\n        let payOrder= this._searchOrders(this.state.orderNum,this.state.orderData);\n            if(payOrder != null){\n                this.setState({\n                    payOrder: payOrder,\n                    show: \"receipt\",\n                    orderNum: null,\n                    orderNoError: \"\"\n                })\n            } else {\n                console.log(\"order does not exist\")\n                this.setState({\n                    orderNoError: \"invalid order number\"\n                })\n            }\n      }\n    \n      handleShowReceipt() {\n        this.setState({show: \"scan\"});\n      }\n\n      handleCompletePay() {\n        this.setState({show: \"pay\"});\n      }\n\n      handleshowNum() {\n        this.setState({show: \"num\"});\n      }\n\n      handleCompletePurchase() {\n        this.setState({show: \"default\"});\n      }\n\n      handleScan = data => {\n        if (data) {\n            let payOrder= this._searchOrders(data,this.state.orderData);\n            if(payOrder != null){\n                this.setState({\n                    payOrder: payOrder,\n                    show: \"receipt\",\n                    orderNoError: \"\"\n                })\n            } else {\n                console.log(\"order does not exist\")\n                this.setState({\n                    orderNoError: \"invalid order number\"\n                })\n            }\n        }\n      }\n      handleError = err => {\n        console.error(err)\n      }\n\n      _searchOrders(scannedQR, orderData){\n        let order= null;\n        for (var i=0; i < orderData.length; i++) {\n            if (orderData[i].order_number === scannedQR) {\n                order = orderData[i]\n            } \n        }\n\n        return order;\n      }\n\n      _searchMeals(mealID, mealData, isTotal){\n        let meals= [];\n        let orderTotal = 0;\n        for (var i=0; i < mealData.length; i++) {\n            if (Array.isArray(mealID)) {\n                for (var j=0; j < mealID.length; j++) {\n                    if (mealData[i]._id === mealID[j]) {\n                        meals.push(mealData[i]);\n                        orderTotal = orderTotal + mealData[i].price_id;\n                    }\n                }\n            }\n            else if (mealData[i]._id === mealID) {\n                meals.push(mealData[i])\n            } \n        }\n\n\n        console.log(orderTotal);\n        if(isTotal){\n            return orderTotal;\n        } else {\n            return meals;\n        }\n\n      }\n\n\n    render() {\n        const show = this.state.show;\n        const order = this.state.payOrder;\n        let view;\n\n        if (show == \"default\") {\n            view = \n            <div className=\"row NewOrderRow\">\n                <div className=\"col-6 col-sm-4 col-lg-3 col-xl-2 ml-auto employeeItemnCol\">\n                    <div className=\"employeeItem\" onClick={this.handleShowReceipt}><i className=\"fa fa-qrcode d-flex d-lg-flex d-xl-flex justify-content-center justify-content-lg-center justify-content-xl-center SelectOrderRowIcon\"></i>\n                        <p className=\"text-center employeeItemName\">Scan QR Code</p>\n                    </div>\n                </div>\n                <div className=\"col-6 col-sm-4 col-lg-3 col-xl-2 mr-auto employeeItemnCol\">\n                    <div className=\"employeeItem\" onClick={this.handleshowNum}><i className=\"la la-i-cursor d-flex d-lg-flex d-xl-flex justify-content-center justify-content-lg-center justify-content-xl-center SelectOrderRowIcon\"></i>\n                        <p className=\"text-center employeeItemName\">Enter Order No</p>\n                    </div>\n                </div>\n            </div>;\n        } else if (show == \"scan\") {\n            view = \n            <div class=\"col-xs-12 col-md-8 col-lg-6\">\n            <QrReader\n              delay={300}\n              onError={this.handleError}\n              onScan={this.handleScan}\n              style={{ width: '100%', margin:'auto', display:'table'}}\n            />\n            <p>{this.state.result}</p>\n            <p style={{textAlign:'center', color:'red'}}>{this.state.orderNoError}</p>\n            </div>\n\n        } else if (show == \"receipt\") {\n            view = \n            <div>\n                <div className=\"row BillingRecieptRow\">\n                    <div className=\"col-12 col-sm-8 col-lg-6 col-xl-4 mx-auto receiptsCard\">\n                        <div className=\"row\">\n                            <div className=\"col-12 d-inline-flex\">\n                                <p>{order.user_name}</p>\n                                <p className=\"d-xl-flex ml-auto FoodPriceLabelReceipt\">{order.order_number}</p>\n                            </div>\n                            <div className=\"col-12 d-inline-flex totalReceiptCol\">\n                                <p className=\"receiptTimestamp\">02 March 2019</p>\n                                <p className=\"d-xl-flex ml-auto receiptTimestamp\">10:05</p>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            {/* Billing Receipt Menu Item */}\n                            {this.__showMenuItem()}\n                            {/* /Billing Receipt Menu Item */}\n                            <div className=\"col-12 d-inline-flex totalReceiptCol\">\n                                <p className=\"FoodNameLabelReceipt\">Total</p>\n                                <p className=\"d-xl-flex ml-auto FoodPriceLabelReceipt\">R {this._searchMeals(this.state.payOrder.meal_id,this.state.mealData, true)}.00</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col BillingRecieptPaymentCol\">\n                        <h6 className=\"text-center\">Payment</h6>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-6 col-sm-4 col-lg-3 col-xl-2 d-xl-flex ml-auto PaymentBtnCol\"><button className=\"btn btn-dark btn-lg btnPayType\" type=\"button\" onClick={this.handleCompletePay}><i className=\"icon ion-cash greenIcon\"></i>Cash</button></div>\n                    <div className=\"col-6 col-sm-4 col-lg-3 col-xl-2 d-xl-flex mr-auto PaymentBtnCol\"><button className=\"btn btn-dark btn-lg btnPayType\" type=\"button\" onClick={this.handleCompletePay}><i className=\"icon ion-card greenIcon\"></i>Card</button></div>\n                </div>\n            </div>\n        } else if (show == \"pay\") {\n            view = \n            <div role=\"dialog\" tabIndex=\"-1\" className=\"modal fade show\" style={{display: 'block'}}>\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\" style={{backgroundColor: '#f6f6f6'}}>\n                            <h4 className=\"modal-title\">PAYMENT</h4><button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button></div>\n                        <div className=\"modal-body\" style={{padding: '0px',backgroundColor: '#f6f6f6'}}>\n                            <div className=\"row\">\n                                <div className=\"col\"><img src=\"assets/img/IMG_0694.gif\" width=\"100%\" /></div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-10 col-sm-8 d-xl-flex mx-auto PaymentBtnCol\"><button className=\"btn btn-dark btn-lg btnAction\" type=\"button\" onClick={this.handleCompletePurchase}>Payment Complete</button></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        } else if (show == \"num\") {\n            view = \n            <div role=\"dialog\" tabIndex=\"-1\" className=\"modal fade show\" style={{display: 'block'}}>\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\" style={{backgroundColor: '#f6f6f6'}}>\n                            <h4 className=\"modal-title\">ORDER NO</h4><button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button></div>\n                        <div className=\"modal-body\" style={{padding: '0px',backgroundColor: '#f6f6f6'}}>\n                            <div className=\"row\">\n                                <div className=\"col-8 d-inline-flex mx-auto\"><input type=\"text\" autofocusplaceholder=\"Order Number\" className=\"form-control-lg\" name=\"orderNum\" onChange={this._handleChange} style={{borderStyle:'none', width:'100%', marginBottom:'60px', marginTop:'60px'}}/></div>\n                            </div>\n                            <p style={{textAlign:'center', color:'red'}}>{this.state.orderNoError}</p>\n                            <div className=\"row\">\n                            <div className=\"col-10 col-sm-8 d-xl-flex mx-auto PaymentBtnCol\"><button className=\"btn btn-dark btn-lg btnAction\" type=\"button\" onClick={this.handleNumSubmit}>Enter</button></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        }\n        return (\n            <div className=\"tab-pane active\" role=\"tabpanel\" id=\"tab-1\">\n                {/* Shows once an order item has been scanned/entered */}\n                {view}\n            </div>\n            )\n    }\n\n\n    __showMenuItem() {\n        let meals = this._searchMeals(this.state.payOrder.meal_id,this.state.mealData, false);\n        if (meals.length > 0) {\n        return meals.map(meal => {\n            return (\n                <RecieptMenuItem\n                key={meal._id}\n                name={meal.name}\n                price={meal.price_id}\n                />\n            );\n        });\n        } else {\n        return null;\n        }\n    }\n} \n\nexport default NewOrderTab"]},"metadata":{},"sourceType":"module"}