{"ast":null,"code":"import _classCallCheck from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/src/pages/Menu.js\";\n// View Account Details\n// import React from 'react'\n// import Header from '../components/ClientUI/Header';\n// import Cart from '../components/ClientUI/Cart';\n// import Reciepts from '../components/ClientUI/Reciepts';\n// import MenuItem from '../components/ClientUI/MenuItem';\n// import MenuItemDetails from '../components/ClientUI/MenuItemDetails';\n// import Login from '../components/ClientUI/Login';\n// import CreateAccount from '../components/ClientUI/CreateAccount';\nimport React, { Component } from 'react';\nimport 'bootstrap/js/src/modal';\nimport $ from 'jquery';\nimport 'jquery/dist/jquery';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport Header from '../components/ClientUI/Header';\nimport Reciepts from '../components/ClientUI/Reciepts';\nimport Login from '../components/ClientUI/Login';\nimport CreateAccount from '../components/ClientUI/CreateAccount';\n\nvar BasketFunctionality =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BasketFunctionality, _Component);\n\n  function BasketFunctionality() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BasketFunctionality);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BasketFunctionality)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      meals: []\n    };\n    return _this;\n  }\n\n  _createClass(BasketFunctionality, [{\n    key: \"fetchMeals\",\n    value: function fetchMeals() {\n      var _this2 = this;\n\n      fetch(\"https://dev-african-roots.herokuapp.com/api/meals\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return _this2.setState({\n          meals: data\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchMeals();\n      $(\"#tabUp\").hide();\n      var cartActive = false;\n      $(\"#cartHeadBtn\").click(function () {\n        if (cartActive === false) {\n          $(\"#cartContainer\").toggleClass('ccDown', 'ccUp', 300, 'swing');\n          $(\"#tabUp\").show();\n          $(\"#tabDown\").hide();\n          $(\"#basketTotalColumn\").hide();\n          $(\".cartAmountTxt\").addClass('rightAlign');\n          cartActive = true;\n        } else {\n          // $(\"#cartContainer\").toggleClass( 'ccUp', 'ccDown',300, 'swing');\n          $(\"#tabUp\").hide();\n          $(\"#tabDown\").show();\n          $(\"#basketTotalColumn\").show();\n          $(\".cartAmountTxt\").removeClass('rightAlign');\n          cartActive = false;\n        }\n      });\n    }\n  }, {\n    key: \"addToCart\",\n    value: function addToCart(event) {\n      if (event.target.parentElement.classList.contains(\"addBasketBtn\")) {\n        var fullPath = event.target.parentElement.previousElementSibling.src;\n        var pos = fullPath.indexOf(\"img\") + 3;\n        var partPath = fullPath.slice(pos);\n        var item = {};\n        item.img = \"img-cart\".concat(partPath);\n        var name = event.target.parentElement.parentElement.nextElementSibling.children[0].children[0].textContent;\n        item.name = name;\n        var price = event.target.parentElement.parentElement.nextElementSibling.children[0].children[1].textContent;\n        var finalPrice = price.slice(1).trim();\n        item.price = finalPrice;\n        var cartItem = document.createElement('div');\n        cartItem.classList.add('cart-item', 'd-flex', 'justify-content-between', 'text-capitalize', 'my-3');\n        cartItem.innerHTML = \"\\n                <img src=\\\"\".concat(item.image, \"\\\" class=\\\"img-fluid rounded-circle\\\" id=\\\"item-img\\\" alt=\\\"\\\">\\n                <div class=\\\"cart-item-text\\\">\\n                    <p id=\\\"cart-item-title\\\" class=\\\"font-weight-bold mb-0\\\">\").concat(item.name, \"</p>\\n                    <span>R</span>\\n                    <span id=\\\"cart-item-price\\\" class=\\\"cart-item-price\\\" class=\\\"mb-0\\\">\").concat(item.price, \"</span>\\n                </div>\\n                <a href=\\\"#\\\" id='cart-item-remove' class=\\\"cart-item-remove\\\">\\n                <i class=\\\"fas fa-trash\\\"></i>\\n                </a>\\n            \");\n        var cart = document.getElementById('cart');\n        var total = document.querySelector('.cart-total-container');\n        cart.insertBefore(cartItem, total); // this.showTotals();\n      }\n    }\n  }, {\n    key: \"showTotals\",\n    value: function showTotals() {\n      console.log('Update total price'); // const total = [];\n      // const items = document.querySelectorAll('.cart-item-price');\n      // items.forEach((item) => {\n      //     total.push(parseFloat(item.textContent));\n      // })\n      // const totalCost = total.reduce(function(total, item){\n      //     total += item;\n      //     return total;\n      // }, 0)\n      // console.log(totalCost);\n      // const finalCost = totalCost.toFixed(2);\n      // document.getElementById('cart-total').textContent = finalCost;\n      // document.querySelector('.item-total').textContent = finalCost;\n      // document.getElementById('item-count').textContent = total.length;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var meals = this.state.meals;\n      var mealItems = meals.map(function (meal) {\n        return React.createElement(\"div\", {\n          key: Math.random(),\n          className: \"col-6 col-sm-4 col-md-3 menuItem\",\n          \"data-aos\": \"fade-up\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card\",\n          id: \"menuItemCard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"img-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"url(meal-pictures/${image})\",\n          className: \"card-img-top store-img\",\n          alt: \"meal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"addBasketBtn\",\n          onClick: _this3.addToCart,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"assets/img/shopping-basket-4.svg\",\n          className: \"cartImg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-text d-flex justify-content-between text-capitalize\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          id: \"store-item-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, meal.name), React.createElement(\"h5\", {\n          className: \"store-item-value\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"R \", React.createElement(\"strong\", {\n          id: \"store-item-price\",\n          className: \"font-weight-bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, meal.price_id))))));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"background\",\n        style: {\n          backgroundSize: '200px',\n          backgroundImage: \"url(&quot;assets/img/Asset%203.svg&quot;)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-8 cardsContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          margin: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, mealItems)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-none d-lg-flex \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"cart-info\",\n        className: \"align-items-center cart-info d-flex justify-content-between mx-lg-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"cart-info__icon mr-lg-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-shopping-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"mb-0 text-capitalize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"item-count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"0 \"), \" items - R\", React.createElement(\"span\", {\n        className: \"item-total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"0\"))))), React.createElement(\"div\", {\n        className: \"col cartContainer ccDown\",\n        id: \"cartContainer\",\n        ref: this.cartContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row max-height justify-content-center align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"cart\",\n        className: \"cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cart-total-container d-flex justify-content-around text-capitalize mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"total\"), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \" R \", React.createElement(\"strong\", {\n        id: \"cart-total\",\n        className: \"font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"0\"), \" \")), React.createElement(\"div\", {\n        className: \"cart-buttons-container mt-3 d-flex justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        id: \"clear-cart\",\n        className: \"btn btn-outline-secondary btn-black text-uppercase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"clear cart\"), React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-outline-secondary text-uppercase btn-pink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"checkout\")))))), React.createElement(Reciepts, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }))), React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(CreateAccount, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BasketFunctionality;\n}(Component);\n\nexport default BasketFunctionality; // class MenuBackbone extends React.PureComponent {\n// }\n// export default MenuBackbone\n// render(){        \n//     const {meals} = this.state;\n//     var mealItems = meals.map((meal) => {\n//         return (\n//             <div key={Math.random()} className=\"col-6 col-sm-4 col-md-3 menuItem\" data-aos=\"fade-up\">\n//                 <div className=\"card\" id=\"menuItemCard\">\n//                     <div className=\"img-container\">\n//                         <img src='url(meal-pictures/${image})' className=\"card-img-top store-img\" alt=\"meal\"/>\n//                         <span className=\"addBasketBtn\" onClick={this.addToCart}><img src=\"assets/img/shopping-basket-4.svg\" className=\"cartImg\"></img></span>    \n//                     </div>\n//                     <div className=\"card-body\">\n//                         <div className=\"card-text d-flex justify-content-between text-capitalize\">\n//                             <h5 id=\"store-item-name\">{meal.name}</h5>\n//                             <h5 className=\"store-item-value\">R <strong id=\"store-item-price\" className=\"font-weight-bold\">{meal.price_id}</strong></h5>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//         );\n//     });\n//     return(\n//         <div>\n//             <div className=\"row\" className=\"store-items\" id=\"store-items\">\n//                 {mealItems}\n//             </div>\n//             <div>\n//                 <div>\n//                     <div className=\"d-none d-lg-flex \">\n//                         <div id=\"cart-info\" className=\"align-items-center cart-info d-flex justify-content-between mx-lg-5\">\n//                             <span className=\"cart-info__icon mr-lg-3\"><i className=\"fas fa-shopping-cart\"></i></span>\n//                             <p className=\"mb-0 text-capitalize\"><span id=\"item-count\">0 </span> items - R<span className=\"item-total\">0</span></p>\n//                         </div>\n//                     </div>    \n//                 </div>\n//                 <div className=\"container-fluid\">\n//                     <div className=\"row max-height justify-content-center align-items-center\">\n//                         <div id=\"cart\" className=\"cart\">\n//                             <div className=\"cart-total-container d-flex justify-content-around text-capitalize mt-5\">\n//                                 <h5>total</h5>\n//                                 <h5> R <strong id=\"cart-total\" className=\"font-weight-bold\">0</strong> </h5>\n//                             </div>\n//                             <div className=\"cart-buttons-container mt-3 d-flex justify-content-between\">\n//                                 <a href=\"#\" id=\"clear-cart\" className=\"btn btn-outline-secondary btn-black text-uppercase\">clear cart</a>\n//                                 <a href=\"#\" className=\"btn btn-outline-secondary text-uppercase btn-pink\">checkout</a>\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//         </div>\n//     )\n// }","map":{"version":3,"sources":["/Users/paulloots/Documents/OWI/3rd Year -2019/Development/term1/project/african-roots-client/src/pages/Menu.js"],"names":["React","Component","$","Header","Reciepts","Login","CreateAccount","BasketFunctionality","state","meals","fetch","then","response","json","data","setState","fetchMeals","hide","cartActive","click","toggleClass","show","addClass","removeClass","event","target","parentElement","classList","contains","fullPath","previousElementSibling","src","pos","indexOf","partPath","slice","item","img","name","nextElementSibling","children","textContent","price","finalPrice","trim","cartItem","document","createElement","add","innerHTML","image","cart","getElementById","total","querySelector","insertBefore","console","log","mealItems","map","meal","Math","random","addToCart","price_id","backgroundSize","backgroundImage","margin","cartContainer"],"mappings":"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","sourcesContent":["// View Account Details\n\n// import React from 'react'\n// import Header from '../components/ClientUI/Header';\n// import Cart from '../components/ClientUI/Cart';\n// import Reciepts from '../components/ClientUI/Reciepts';\n// import MenuItem from '../components/ClientUI/MenuItem';\n// import MenuItemDetails from '../components/ClientUI/MenuItemDetails';\n// import Login from '../components/ClientUI/Login';\n// import CreateAccount from '../components/ClientUI/CreateAccount';\n\nimport React, { Component }  from 'react';\nimport 'bootstrap/js/src/modal'\nimport $ from 'jquery'\nimport 'jquery/dist/jquery'\nimport 'bootstrap/dist/js/bootstrap.bundle'\n\nimport Header from '../components/ClientUI/Header';\nimport Reciepts from '../components/ClientUI/Reciepts';\nimport Login from '../components/ClientUI/Login';\nimport CreateAccount from '../components/ClientUI/CreateAccount';\n\nclass BasketFunctionality extends Component {\n\n    state = {\n        meals : [],\n    }   \n\n    fetchMeals() {\n        fetch(`https://dev-african-roots.herokuapp.com/api/meals`)\n          .then(response => response.json())\n          .then(data =>\n            this.setState({\n              meals: data,\n            })\n          )\n      }\n\n    componentDidMount() {\n        this.fetchMeals();\n\n        $(\"#tabUp\").hide();\n        var cartActive = false;\n\n        $( \"#cartHeadBtn\" ).click(function() {\n            if (cartActive === false){\n                $(\"#cartContainer\").toggleClass( 'ccDown', 'ccUp',300, 'swing');\n                $(\"#tabUp\").show();\n                $(\"#tabDown\").hide();\n                $(\"#basketTotalColumn\").hide();\n                $(\".cartAmountTxt\").addClass('rightAlign');\n                cartActive = true; \n            } else {\n                // $(\"#cartContainer\").toggleClass( 'ccUp', 'ccDown',300, 'swing');\n                $(\"#tabUp\").hide();\n                $(\"#tabDown\").show();\n                $(\"#basketTotalColumn\").show();\n                $(\".cartAmountTxt\").removeClass('rightAlign');\n                cartActive = false;\n            }\n\n        });\n    }\n\n    addToCart(event) {\n        if(event.target.parentElement.classList.contains(\"addBasketBtn\")) {\n            let fullPath = event.target.parentElement.previousElementSibling.src;\n            let pos = fullPath.indexOf(\"img\") + 3;\n            let partPath = fullPath.slice(pos);\n\n            const item = {};\n            item.img = `img-cart${partPath}`\n            let name = event.target.parentElement.parentElement.nextElementSibling.children[0].children[0].textContent;\n            item.name = name;\n            let price = event.target.parentElement.parentElement.nextElementSibling.children[0].children[1].textContent;\n            let finalPrice = price.slice(1).trim();\n            item.price = finalPrice;\n\n            const cartItem = document.createElement('div');\n            cartItem.classList.add(\n                'cart-item', \n                'd-flex', \n                'justify-content-between', \n                'text-capitalize', \n                'my-3'\n            );\n            \n            cartItem.innerHTML = `\n                <img src=\"${item.image}\" class=\"img-fluid rounded-circle\" id=\"item-img\" alt=\"\">\n                <div class=\"cart-item-text\">\n                    <p id=\"cart-item-title\" class=\"font-weight-bold mb-0\">${item.name}</p>\n                    <span>R</span>\n                    <span id=\"cart-item-price\" class=\"cart-item-price\" class=\"mb-0\">${item.price}</span>\n                </div>\n                <a href=\"#\" id='cart-item-remove' class=\"cart-item-remove\">\n                <i class=\"fas fa-trash\"></i>\n                </a>\n            `;\n\n            const cart = document.getElementById('cart');\n            const total = document.querySelector('.cart-total-container');\n\n            cart.insertBefore(cartItem, total);\n\n            // this.showTotals();\n        }\n    }\n\n    showTotals() {\n        console.log('Update total price')\n        // const total = [];\n        // const items = document.querySelectorAll('.cart-item-price');\n\n        // items.forEach((item) => {\n        //     total.push(parseFloat(item.textContent));\n        // })\n\n        // const totalCost = total.reduce(function(total, item){\n        //     total += item;\n        //     return total;\n        // }, 0)\n\n        // console.log(totalCost);\n\n        // const finalCost = totalCost.toFixed(2);\n\n        // document.getElementById('cart-total').textContent = finalCost;\n        // document.querySelector('.item-total').textContent = finalCost;\n        // document.getElementById('item-count').textContent = total.length;\n    }\n\n    render() {\n        const {meals} = this.state;\n\n        var mealItems = meals.map((meal) => {\n            return (\n                <div key={Math.random()} className=\"col-6 col-sm-4 col-md-3 menuItem\" data-aos=\"fade-up\">\n                    <div className=\"card\" id=\"menuItemCard\">\n                        <div className=\"img-container\">\n                            <img src='url(meal-pictures/${image})' className=\"card-img-top store-img\" alt=\"meal\"/>\n                            <span className=\"addBasketBtn\" onClick={this.addToCart}><img src=\"assets/img/shopping-basket-4.svg\" className=\"cartImg\"></img></span>    \n                        </div>\n                        <div className=\"card-body\">\n                            <div className=\"card-text d-flex justify-content-between text-capitalize\">\n                                <h5 id=\"store-item-name\">{meal.name}</h5>\n                                <h5 className=\"store-item-value\">R <strong id=\"store-item-price\" className=\"font-weight-bold\">{meal.price_id}</strong></h5>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        });\n\n        return (\n            <div>\n                <div className=\"background\" style={{backgroundSize: '200px',backgroundImage: `url(&quot;assets/img/Asset%203.svg&quot;)`}}></div>\n                \n                    <Header />\n                    \n                    <div className=\"container\">\n                        <div className=\"row\">\n\n                        <div className=\"col-12 col-lg-8 cardsContainer\">\n                            <div className=\"row\" style={{margin: '0px'}}>\n\n                                {mealItems}\n                            \n                            </div>\n                        </div>\n                        \n                        <div>\n                            <div className=\"d-none d-lg-flex \">\n                                <div id=\"cart-info\" className=\"align-items-center cart-info d-flex justify-content-between mx-lg-5\">\n                                    <span className=\"cart-info__icon mr-lg-3\"><i className=\"fas fa-shopping-cart\"></i></span>\n                                    <p className=\"mb-0 text-capitalize\"><span id=\"item-count\">0 </span> items - R<span className=\"item-total\">0</span></p>\n                                </div>\n                            </div>    \n                        </div>\n                        \n                        <div className=\"col cartContainer ccDown\" id=\"cartContainer\" ref={this.cartContainer}>\n                    \n                        <div className=\"container-fluid\">\n                            <div className=\"row max-height justify-content-center align-items-center\">\n                                <div id=\"cart\" className=\"cart\">\n                                    <div className=\"cart-total-container d-flex justify-content-around text-capitalize mt-5\">\n                                        <h5>total</h5>\n                                        <h5> R <strong id=\"cart-total\" className=\"font-weight-bold\">0</strong> </h5>\n                                    </div>\n                                    \n                                    <div className=\"cart-buttons-container mt-3 d-flex justify-content-between\">\n                                        <a href=\"#\" id=\"clear-cart\" className=\"btn btn-outline-secondary btn-black text-uppercase\">clear cart</a>\n                                        <a href=\"#\" className=\"btn btn-outline-secondary text-uppercase btn-pink\">checkout</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n\n                        <Reciepts />\n                    </div>\n                </div>\n                \n                <Login />\n                \n                <CreateAccount />\n\n            </div>\n        )\n    }\n\n\n}\n\nexport default BasketFunctionality\n\n// class MenuBackbone extends React.PureComponent {\n    \n// }\n\n// export default MenuBackbone\n\n// render(){        \n//     const {meals} = this.state;\n\n//     var mealItems = meals.map((meal) => {\n//         return (\n//             <div key={Math.random()} className=\"col-6 col-sm-4 col-md-3 menuItem\" data-aos=\"fade-up\">\n//                 <div className=\"card\" id=\"menuItemCard\">\n//                     <div className=\"img-container\">\n//                         <img src='url(meal-pictures/${image})' className=\"card-img-top store-img\" alt=\"meal\"/>\n//                         <span className=\"addBasketBtn\" onClick={this.addToCart}><img src=\"assets/img/shopping-basket-4.svg\" className=\"cartImg\"></img></span>    \n//                     </div>\n//                     <div className=\"card-body\">\n//                         <div className=\"card-text d-flex justify-content-between text-capitalize\">\n//                             <h5 id=\"store-item-name\">{meal.name}</h5>\n//                             <h5 className=\"store-item-value\">R <strong id=\"store-item-price\" className=\"font-weight-bold\">{meal.price_id}</strong></h5>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//         );\n//     });\n\n//     return(\n//         <div>\n\n//             <div className=\"row\" className=\"store-items\" id=\"store-items\">\n//                 {mealItems}\n//             </div>\n\n//             <div>\n//                 <div>\n//                     <div className=\"d-none d-lg-flex \">\n//                         <div id=\"cart-info\" className=\"align-items-center cart-info d-flex justify-content-between mx-lg-5\">\n//                             <span className=\"cart-info__icon mr-lg-3\"><i className=\"fas fa-shopping-cart\"></i></span>\n//                             <p className=\"mb-0 text-capitalize\"><span id=\"item-count\">0 </span> items - R<span className=\"item-total\">0</span></p>\n//                         </div>\n//                     </div>    \n//                 </div>\n\n//                 <div className=\"container-fluid\">\n//                     <div className=\"row max-height justify-content-center align-items-center\">\n//                         <div id=\"cart\" className=\"cart\">\n//                             <div className=\"cart-total-container d-flex justify-content-around text-capitalize mt-5\">\n//                                 <h5>total</h5>\n//                                 <h5> R <strong id=\"cart-total\" className=\"font-weight-bold\">0</strong> </h5>\n//                             </div>\n                            \n//                             <div className=\"cart-buttons-container mt-3 d-flex justify-content-between\">\n//                                 <a href=\"#\" id=\"clear-cart\" className=\"btn btn-outline-secondary btn-black text-uppercase\">clear cart</a>\n//                                 <a href=\"#\" className=\"btn btn-outline-secondary text-uppercase btn-pink\">checkout</a>\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n\n\n//         </div>\n//     )\n// }"]},"metadata":{},"sourceType":"module"}